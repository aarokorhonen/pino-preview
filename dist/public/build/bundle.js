var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function i(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function m(){return f(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:g(t,e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e){t.value=null==e?"":e}function y(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let w,v;function $(){if(void 0===w){w=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){w=!0}}return w}function k(t,e,n){t.classList[n?"add":"remove"](e)}function T(t){v=t}function _(){if(!v)throw new Error("Function called outside component initialization");return v}function L(t){_().$$.on_mount.push(t)}function A(){const t=_();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const l=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}(e,n,{cancelable:o});return s.slice().forEach((e=>{e.call(t,l)})),!l.defaultPrevented}return!0}}function E(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const S=[],B=[],C=[],O=[],H=Promise.resolve();let j=!1;function D(){j||(j=!0,H.then(z))}function M(){return D(),H}function R(t){C.push(t)}function N(t){O.push(t)}const P=new Set;let F=0;function z(){const t=v;do{for(;F<S.length;){const t=S[F];F++,T(t),I(t.$$)}for(T(null),S.length=0,F=0;B.length;)B.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];P.has(e)||(P.add(e),e())}C.length=0}while(S.length);for(;O.length;)O.pop()();j=!1,P.clear(),T(t)}function I(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const V=new Set;let J;function K(){J={r:0,c:[],p:J}}function U(){J.r||o(J.c),J=J.p}function q(t,e){t&&t.i&&(V.delete(t),t.i(e))}function Z(t,e,n,o){if(t&&t.o){if(V.has(t))return;V.add(t),J.c.push((()=>{V.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const Q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function W(t,e){Z(t,1,1,(()=>{e.delete(t.key)}))}function Y(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function G(t){t&&t.c()}function X(t,n,l,r){const{fragment:i,on_mount:c,on_destroy:a,after_update:u}=t.$$;i&&i.m(n,l),r||R((()=>{const n=c.map(e).filter(s);a?a.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(R)}function tt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(e,s,l,r,i,c,u,d=[-1]){const f=v;T(e);const m=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||f.$$.root};u&&u(m.root);let p=!1;if(m.ctx=l?l(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=s)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](s),p&&function(t,e){-1===t.$$.dirty[0]&&(S.push(t),D(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],m.update(),p=!0,o(m.before_update),m.fragment=!!r&&r(m.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);m.fragment&&m.fragment.l(t),t.forEach(a)}else m.fragment&&m.fragment.c();s.intro&&q(e.$$.fragment),X(e,s.target,s.anchor,s.customElement),z()}T(f)}class nt{$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(t,e,n){const o=t.slice();return o[23]=e[n],o}const st=t=>({item:16&t}),lt=t=>({item:t[23].data});function rt(t,e){let n,o,s;const l=e[14].default,u=function(t,e,n,o){if(t){const s=r(t,e,n,o);return t[0](s)}}(l,e,e[13],lt),p=u||function(t){let e;return{c(){e=f("Missing template")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}();return{key:t,first:null,c(){n=d("svelte-virtual-list-row"),p&&p.c(),o=m(),h(n,"class","svelte-102fq2u"),this.first=n},m(t,e){c(t,n,e),p&&p.m(n,null),i(n,o),s=!0},p(t,n){e=t,u&&u.p&&(!s||8208&n)&&function(t,e,n,o,s,l){if(s){const i=r(e,n,o,l);t.p(i,s)}}(u,l,e,e[13],s?function(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}(l,e[13],n,st):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(e[13]),lt)},i(t){s||(q(p,t),s=!0)},o(t){Z(p,t),s=!1},d(t){t&&a(n),p&&p.d(t)}}}function it(t){let e,n,o,s,l,r,u=[],f=new Map,m=t[4];const g=t=>t[23].index;for(let e=0;e<m.length;e+=1){let n=ot(t,m,e),o=g(n);f.set(o,u[e]=rt(o,n))}return{c(){e=d("svelte-virtual-list-viewport"),n=d("svelte-virtual-list-contents");for(let t=0;t<u.length;t+=1)u[t].c();y(n,"padding-top",t[5]+"px"),y(n,"padding-bottom",t[6]+"px"),h(n,"class","svelte-102fq2u"),y(e,"height",t[0]),h(e,"class","svelte-102fq2u"),R((()=>t[17].call(e)))},m(f,m){c(f,e,m),i(e,n);for(let t=0;t<u.length;t+=1)u[t].m(n,null);t[15](n),t[16](e),o=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=d("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=$();let s;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=p(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{s=p(n.contentWindow,"resize",e)}),i(t,n),()=>{(o||s&&n.contentWindow)&&s(),a(n)}}(e,t[17].bind(e)),s=!0,l||(r=p(e,"scroll",t[7]),l=!0)},p(t,[o]){8208&o&&(m=t[4],K(),u=function(t,e,n,o,s,l,r,i,c,a,u,d){let f=t.length,m=l.length,p=f;const g={};for(;p--;)g[t[p].key]=p;const h=[],b=new Map,x=new Map;for(p=m;p--;){const t=d(s,l,p),i=n(t);let c=r.get(i);c?o&&c.p(t,e):(c=a(i,t),c.c()),b.set(i,h[p]=c),i in g&&x.set(i,Math.abs(p-g[i]))}const y=new Set,w=new Set;function v(t){q(t,1),t.m(i,u),r.set(t.key,t),u=t.first,m--}for(;f&&m;){const e=h[m-1],n=t[f-1],o=e.key,s=n.key;e===n?(u=e.first,f--,m--):b.has(s)?!r.has(o)||y.has(o)?v(e):w.has(s)?f--:x.get(o)>x.get(s)?(w.add(o),v(e)):(y.add(s),f--):(c(n,r),f--)}for(;f--;){const e=t[f];b.has(e.key)||c(e,r)}for(;m;)v(h[m-1]);return h}(u,o,g,1,t,m,f,n,W,rt,null,ot),U()),(!s||32&o)&&y(n,"padding-top",t[5]+"px"),(!s||64&o)&&y(n,"padding-bottom",t[6]+"px"),(!s||1&o)&&y(e,"height",t[0])},i(t){if(!s){for(let t=0;t<m.length;t+=1)q(u[t]);s=!0}},o(t){for(let t=0;t<u.length;t+=1)Z(u[t]);s=!1},d(n){n&&a(e);for(let t=0;t<u.length;t+=1)u[t].d();t[15](null),t[16](null),o(),l=!1,r()}}}function ct(t,e,n){let o,s,l,r,i,c,{$$slots:a={},$$scope:u}=e,{items:d}=e,{height:f="100%"}=e,{itemHeight:m}=e,{start:p=0}=e,{end:g=0}=e,h=[],b=0,x=0,y=0;return L((()=>{o=l.getElementsByTagName("svelte-virtual-list-row"),n(12,i=!0)})),t.$$set=t=>{"items"in t&&n(10,d=t.items),"height"in t&&n(0,f=t.height),"itemHeight"in t&&n(11,m=t.itemHeight),"start"in t&&n(8,p=t.start),"end"in t&&n(9,g=t.end),"$$scope"in t&&n(13,u=t.$$scope)},t.$$.update=()=>{1792&t.$$.dirty&&n(4,r=d.slice(p,g).map(((t,e)=>({index:e+p,data:t})))),7170&t.$$.dirty&&i&&async function(t,e,l){const{scrollTop:r}=s;await M();let i=x-r,a=p;for(;i<e&&a<t.length;){let t=o[a-p];t||(n(9,g=a+1),await M(),t=o[a-p]),i+=h[a]=l||t.offsetHeight,a+=1}n(9,g=a);const u=t.length-g;c=(x+i)/g,n(6,y=u*c),h.length=t.length}(d,b,m)},[f,b,s,l,r,x,y,async function(){const{scrollTop:t}=s,e=p;for(let t=0;t<o.length;t+=1)h[p+t]=m||o[t].offsetHeight;let l=0,r=0;for(;l<d.length;){const e=h[l]||c;if(r+e>t){n(8,p=l),n(5,x=r);break}r+=e,l+=1}for(;l<d.length&&(r+=h[l]||c,l+=1,!(r>t+b)););n(9,g=l);const i=d.length-g;for(c=r/g;l<d.length;)h[l++]=c;if(n(6,y=i*c),p<e){await M();let n=0,l=0;for(let t=p;t<e;t+=1)o[t-p]&&(n+=h[t],l+=m||o[t-p].offsetHeight);const r=l-n;s.scrollTo(0,t+r)}},p,g,d,m,i,u,a,function(t){B[t?"unshift":"push"]((()=>{l=t,n(3,l)}))},function(t){B[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},function(){b=this.offsetHeight,n(1,b)}]}class at extends nt{constructor(t){super(),et(this,t,ct,it,l,{items:10,height:0,itemHeight:11,start:8,end:9})}}function ut(t){let e,n,o,s,l,r,u,p,h=t[3](t[0].time)+"",x=pt(t[0].level).label+"",y=t[0].msg+"";return{c(){e=f(h),n=m(),o=d("span"),s=f(x),r=f("Â :\n        "),u=d("span"),p=f(y),g(o,"class",l=pt(t[0].level).class),g(u,"class","text-green-400 whitespace-pre")},m(t,l){c(t,e,l),c(t,n,l),c(t,o,l),i(o,s),c(t,r,l),c(t,u,l),i(u,p)},p(t,n){1&n&&h!==(h=t[3](t[0].time)+"")&&b(e,h),1&n&&x!==(x=pt(t[0].level).label+"")&&b(s,x),1&n&&l!==(l=pt(t[0].level).class)&&g(o,"class",l),1&n&&y!==(y=t[0].msg+"")&&b(p,y)},d(t){t&&a(e),t&&a(n),t&&a(o),t&&a(r),t&&a(u)}}}function dt(t){let e,n,o,s,l,r,u=t[3](t[0].time)+"",p=t[0].msg+"";return{c(){e=d("span"),n=f(u),o=m(),s=f(t[2]),l=m(),r=f(p),g(e,"class","text-stone-500 whitespace-pre")},m(t,a){c(t,e,a),i(e,n),i(e,o),i(e,s),i(e,l),i(e,r)},p(t,e){1&e&&u!==(u=t[3](t[0].time)+"")&&b(n,u),1&e&&p!==(p=t[0].msg+"")&&b(r,p)},d(t){t&&a(e)}}}function ft(t){let e,n=gt(JSON.stringify(t[0],null,4))+"";return{c(){e=d("div"),g(e,"class","whitespace-pre-wrap px-4 text-yellow-300 mt-4")},m(t,o){c(t,e,o),e.innerHTML=n},p(t,o){1&o&&n!==(n=gt(JSON.stringify(t[0],null,4))+"")&&(e.innerHTML=n)},d(t){t&&a(e)}}}function mt(e){let n,o,s,l,r;function i(t,e){return"not-json"===t[0].package?dt:ut}let u=i(e),h=u(e),b=e[1]&&ft(e);return{c(){n=d("div"),h.c(),o=m(),b&&b.c(),s=f(""),g(n,"class","rounded-sm px-4 truncate font-mono text-green-400"),y(n,"height","24px"),k(n,"text-blue-400","not-json"!==e[0].package),k(n,"text-gray-500","not-json"===e[0].package),k(n,"cursor-pointer",!e[1]),k(n,"hover:bg-green-900",!e[1])},m(t,i){c(t,n,i),h.m(n,null),c(t,o,i),b&&b.m(t,i),c(t,s,i),l||(r=p(n,"click",e[4]),l=!0)},p(t,[e]){u===(u=i(t))&&h?h.p(t,e):(h.d(1),h=u(t),h&&(h.c(),h.m(n,null))),1&e&&k(n,"text-blue-400","not-json"!==t[0].package),1&e&&k(n,"text-gray-500","not-json"===t[0].package),2&e&&k(n,"cursor-pointer",!t[1]),2&e&&k(n,"hover:bg-green-900",!t[1]),t[1]?b?b.p(t,e):(b=ft(t),b.c(),b.m(s.parentNode,s)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&a(n),h.d(),t&&a(o),b&&b.d(t),t&&a(s),l=!1,r()}}}const pt=t=>{switch(t){case 60:return{class:"text-red-400",label:"FATAL"};case 50:return{class:"text-red-400",label:"ERROR"};case 40:return{class:"text-yellow-500",label:"WARN "};case 30:return{class:"text-green-400",label:"INFO "};case 20:return{class:"text-blue-400",label:"DEBUG"};case 10:return{class:"text-gray-500",label:"TRACE"};default:return`${t}`}};function gt(t){const e={number:"text-blue-400 hover:text-blue-300 hover:bg-blue-900 cursor-pointer p-1 -m-1 rounded",string:"text-green-400 hover:text-green-300 hover:bg-green-900 cursor-pointer p-1 -m-1 rounded",boolean:"text-red-400 font-bold",null:"text-gray-400 font-bold",key:"hover:text-yellow-300 hover:bg-yellow-900 cursor-pointer p-1 -m-1 rounded"};return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(t=>{const n=(t=>/^"/.test(t)?/:$/.test(t)?"key":"string":/^\d+$/.test(t)?"number":/true|false/.test(t)?"boolean":/null/.test(t)?"null":void 0)(t);return`<span class="${e[n]??""}" ${["string","number","key"].includes(n)?'onClick="window.copy(this.innerText)"':""}>${t}</span>`}))}function ht(t,e,n){let{logEntry:o}=e,{isVerbose:s=!1}=e;const l="-"+"".padStart(4,"Â ")+" :",r=A();return window.copy=async t=>{const e=t.replace(/^"/,"").replace(/"$|":$/,"");await navigator.clipboard.writeText(e),r("copy")},t.$$set=t=>{"logEntry"in t&&n(0,o=t.logEntry),"isVerbose"in t&&n(1,s=t.isVerbose)},[o,s,l,t=>{try{return new Date(t).toISOString().replace(/\.\d\d\d/,"").replace("T"," ")}catch(t){return"(Invalid timestamp)"}},function(e){E.call(this,t,e)}]}class bt extends nt{constructor(t){super(),et(this,t,ht,mt,l,{logEntry:0,isVerbose:1})}}const xt=t=>t<6e4?`${(t/1e3).toFixed(0)} second(s) ago`:`${(t/6e4).toFixed(0)} minute(s) ago`;function yt(t){let e;return{c(){e=f("Copy JSON")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function wt(t){let e;return{c(){e=f("Copied JSON to clipboard!")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function vt(t){let e,n,s,l,r,u,h,x,w,v,$,T,_,L,A,E,S,B,C,O,H,j,D,M,R,N,P,F,z,I,V,J,K,U,Q,W=xt(t[1]-new Date(t[0].time))+"";function Y(t,e){return t[2]?wt:yt}C=new bt({props:{logEntry:t[0],isVerbose:!0}}),C.$on("copy",t[7]);let et=Y(t),nt=et(t);return{c(){e=d("div"),n=d("div"),s=d("div"),s.innerHTML='<div class="absolute inset-0 bg-gray-500 opacity-75"></div>',l=m(),r=d("span"),r.textContent="â€‹",u=m(),h=d("div"),x=d("div"),w=d("h3"),v=d("span"),v.textContent="ðŸªµ Message details",$=m(),T=d("span"),_=f(W),L=m(),A=d("div"),E=d("div"),S=d("div"),B=d("div"),G(C.$$.fragment),O=m(),H=d("div"),j=d("button"),j.textContent="Close",D=m(),M=d("button"),nt.c(),R=m(),N=d("button"),N.textContent="Hide older logs",P=m(),F=d("span"),F.textContent="Copied value to clipboard!",z=m(),I=d("button"),I.textContent="â†“ Next",V=m(),J=d("button"),J.textContent="â†‘ Previous",g(s,"class","fixed inset-0 transition-opacity"),g(s,"aria-hidden","true"),g(r,"class","hidden sm:inline-block sm:align-middle sm:h-screen"),g(r,"aria-hidden","true"),g(T,"class","ml-auto"),g(w,"class","h-full text-lg leading-6 font-medium text-gray-700 sm:ml-4 flex items-center"),g(w,"id","modal-headline"),g(x,"class","bg-gray-200 px-4 py-3 sm:px-6 h-16 border-b-2 border-gray-300"),g(B,"class","mt-2 bg-green-950 text-white rounded p-6 font-mono"),g(S,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-grow overflow-x-hidden bg-green-950 rounded"),y(S,"height","60vh"),g(E,"class","sm:flex sm:items-start"),g(A,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),g(j,"type","button"),g(j,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),g(j,"data-test-modal-close",""),g(M,"type","button"),g(M,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),g(N,"type","button"),g(N,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),g(F,"class","flex items-center text-green-600 font-medium mr-2 transition-opacity"),k(F,"opacity-0","number"!=typeof t[3]),k(F,"opacity-100","number"==typeof t[3]),g(I,"type","button"),g(I,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm mr-auto"),g(J,"type","button"),g(J,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),g(H,"class","bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse h-16"),g(h,"class","inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg lg:max-w-5xl sm:w-full overflow-x-auto"),g(h,"role","dialog"),g(h,"aria-modal","true"),g(h,"aria-labelledby","modal-headline"),g(n,"class","flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"),g(e,"class","fixed z-10 inset-0 overflow-y-auto"),g(e,"data-test-modal","")},m(o,a){c(o,e,a),i(e,n),i(n,s),i(n,l),i(n,r),i(n,u),i(n,h),i(h,x),i(x,w),i(w,v),i(w,$),i(w,T),i(T,_),i(h,L),i(h,A),i(A,E),i(E,S),i(S,B),X(C,B,null),i(h,O),i(h,H),i(H,j),i(H,D),i(H,M),nt.m(M,null),i(H,R),i(H,N),i(H,P),i(H,F),i(H,z),i(H,I),i(H,V),i(H,J),K=!0,U||(Q=[p(s,"click",t[5]),p(j,"click",t[5]),p(M,"click",t[6]),p(N,"click",t[8]),p(I,"click",t[10]),p(J,"click",t[11])],U=!0)},p(t,[e]){(!K||3&e)&&W!==(W=xt(t[1]-new Date(t[0].time))+"")&&b(_,W);const n={};1&e&&(n.logEntry=t[0]),C.$set(n),et!==(et=Y(t))&&(nt.d(1),nt=et(t),nt&&(nt.c(),nt.m(M,null))),8&e&&k(F,"opacity-0","number"!=typeof t[3]),8&e&&k(F,"opacity-100","number"==typeof t[3])},i(t){K||(q(C.$$.fragment,t),K=!0)},o(t){Z(C.$$.fragment,t),K=!1},d(t){t&&a(e),tt(C),nt.d(),U=!1,o(Q)}}}function $t(t,e,n){let{openLog:o}=e,{filterByTimestamp:s}=e;const l=A();let r=new Date;const i=setInterval((()=>{n(1,r=new Date)}),1e3);var c;c=()=>{clearInterval(i)},_().$$.on_destroy.push(c);let a=!1;let u=!1;return t.$$set=t=>{"openLog"in t&&n(0,o=t.openLog),"filterByTimestamp"in t&&n(9,s=t.filterByTimestamp)},[o,r,a,u,l,()=>{n(0,o=null)},async()=>{await navigator.clipboard.writeText(JSON.stringify(o,null,4)),n(2,a=!0)},()=>{"number"==typeof u&&clearTimeout(u),n(3,u=setTimeout((()=>{n(3,u=!1)}),2e3))},async()=>{n(9,s=new Date(o.time).toISOString())},s,()=>l("navigateByOffset",{offset:1}),()=>l("navigateByOffset",{offset:-1})]}class kt extends nt{constructor(t){super(),et(this,t,$t,vt,l,{openLog:0,filterByTimestamp:9})}}const{window:Tt}=Q;function _t(t,e,n){const o=t.slice();return o[39]=e[n],o}function Lt(t,e,n){const o=t.slice();return o[42]=e[n],o}function At(t){let e,n,o,s;function l(e){t[16](e)}function r(e){t[17](e)}let i={};return void 0!==t[0]&&(i.openLog=t[0]),void 0!==t[6]&&(i.filterByTimestamp=t[6]),e=new kt({props:i}),B.push((()=>Y(e,"openLog",l))),B.push((()=>Y(e,"filterByTimestamp",r))),e.$on("navigateByOffset",t[15]),{c(){G(e.$$.fragment)},m(t,n){X(e,t,n),s=!0},p(t,s){const l={};!n&&1&s[0]&&(n=!0,l.openLog=t[0],N((()=>n=!1))),!o&&64&s[0]&&(o=!0,l.filterByTimestamp=t[6],N((()=>o=!1))),e.$set(l)},i(t){s||(q(e.$$.fragment,t),s=!0)},o(t){Z(e.$$.fragment,t),s=!1},d(t){tt(e,t)}}}function Et(t){let e;return{c(){e=d("div"),e.innerHTML='<span class="flex rounded-full bg-red-500 uppercase px-2 py-1 text-xs font-bold mr-3">Note</span> \n                        <span class="font-semibold mr-2 text-left flex-auto">Log stream terminated</span>',g(e,"class","p-2 bg-red-800 items-center text-red-100 leading-none rounded-full flex mb-6"),g(e,"role","alert"),g(e,"data-test-ws-terminated","")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function St(e){let n;return{c(){n=f("Display all (Disable filter)")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Bt(e){let n,o,s,l,r,u=pt(e[42]).label+"";return{c(){n=d("span"),o=f(u),s=f(" ("),l=f(e[42]),r=f(")"),g(n,"class",pt(e[42]).class)},m(t,e){c(t,n,e),i(n,o),i(n,s),i(n,l),i(n,r)},p:t,d(t){t&&a(n)}}}function Ct(t){let e,n,o,s,l,r,u,f,h,b;let x=function(t,e){return null!==t[42]?Bt:St}(t)(t);return{c(){e=d("div"),n=d("input"),l=m(),r=d("label"),x.c(),f=m(),n.__value=o=t[42],n.value=n.__value,g(n,"id",s="filterByLevel_"+t[42]),g(n,"type","radio"),g(n,"class","focus:ring-blue-500 h-4 w-5 overflow-visible text-blue-600 border-stone-300 cursor-pointer"),t[24][0].push(n),g(r,"for",u="filterByLevel_"+t[42]),g(r,"class","ml-3 block text-sm font-medium text-stone-700 cursor-pointer"),g(e,"class","flex items-center")},m(o,s){c(o,e,s),i(e,n),n.checked=n.__value===t[4],i(e,l),i(e,r),x.m(r,null),i(e,f),h||(b=p(n,"change",t[23]),h=!0)},p(t,e){16&e[0]&&(n.checked=n.__value===t[4]),x.p(t,e)},d(o){o&&a(e),t[24][0].splice(t[24][0].indexOf(n),1),x.d(),h=!1,b()}}}function Ot(t){let e,n,o,s,l,r,u,h,x,y,w,v,$,T,_=t[13](t[39])+"",L=(t[2].get(t[39])||t[1]).length+"";return{c(){e=d("div"),n=d("input"),l=m(),r=d("label"),u=d("div"),h=m(),x=d("span"),y=f(L),v=m(),n.__value=o=t[39],n.value=n.__value,g(n,"id",s="filterByPackage_"+t[39]),g(n,"type","radio"),g(n,"class","focus:ring-blue-500 h-4 w-5 text-blue-600 border-stone-300 cursor-pointer"),t[24][1].push(n),g(u,"class","text-left flex-grow"),g(x,"class","inline-flex items-center justify-center w-8 ml-4 px-2 py-1 text-xs font-bold leading-none text-stone-500 bg-stone-300 rounded-full"),k(x,"bg-red-200",!1===t[9].get(t[39])),k(x,"text-red-600",!1===t[9].get(t[39])),k(x,"bg-green-200",!0===t[9].get(t[39])),k(x,"text-green-600",!0===t[9].get(t[39])),g(r,"for",w="filterByPackage_"+t[39]),g(r,"class","ml-3 text-sm font-medium text-stone-700 flex-grow flex items-center cursor-pointer"),g(e,"class","flex items-center")},m(o,s){c(o,e,s),i(e,n),n.checked=n.__value===t[3],i(e,l),i(e,r),i(r,u),u.innerHTML=_,i(r,h),i(r,x),i(x,y),i(e,v),$||(T=p(n,"change",t[25]),$=!0)},p(t,e){256&e[0]&&o!==(o=t[39])&&(n.__value=o,n.value=n.__value),256&e[0]&&s!==(s="filterByPackage_"+t[39])&&g(n,"id",s),8&e[0]&&(n.checked=n.__value===t[3]),256&e[0]&&_!==(_=t[13](t[39])+"")&&(u.innerHTML=_),262&e[0]&&L!==(L=(t[2].get(t[39])||t[1]).length+"")&&b(y,L),768&e[0]&&k(x,"bg-red-200",!1===t[9].get(t[39])),768&e[0]&&k(x,"text-red-600",!1===t[9].get(t[39])),768&e[0]&&k(x,"bg-green-200",!0===t[9].get(t[39])),768&e[0]&&k(x,"text-green-600",!0===t[9].get(t[39])),256&e[0]&&w!==(w="filterByPackage_"+t[39])&&g(r,"for",w)},d(o){o&&a(e),t[24][1].splice(t[24][1].indexOf(n),1),$=!1,T()}}}function Ht(t){let e,n,o,s,l;return{c(){e=d("div"),n=d("p"),n.textContent="Heap",o=m(),s=d("p"),l=f(t[10]),g(n,"class","block text-sm font-bold mb-1"),g(s,"class","block text-sm font-light"),g(e,"class","text-stone-300")},m(t,r){c(t,e,r),i(e,n),i(e,o),i(e,s),i(s,l)},p(t,e){1024&e[0]&&b(l,t[10])},d(t){t&&a(e)}}}function jt(t){let e,n;return e=new bt({props:{logEntry:t[38],isVerbose:!1}}),e.$on("click",(function(){return t[26](t[38])})),{c(){G(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(n,o){t=n;const s={};128&o[1]&&(s.logEntry=t[38]),e.$set(s)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Dt(t){let e,n,s,l,r,h,b,y,w,v,$,k,T,_,L,A,E,S,B,C,O,H,j,D,M,R,N,P,F,z,I,V,J,Q,W,Y,et,nt,ot,st,lt,rt,it,ct,ut,dt,ft,mt,pt=null!==t[0]&&At(t),gt="closed"===t[7]&&Et(),ht=[null,60,50,40,30,20,10],bt=[];for(let e=0;e<7;e+=1)bt[e]=Ct(Lt(t,ht,e));let xt=[null,...t[8]],yt=[];for(let e=0;e<xt.length;e+=1)yt[e]=Ot(_t(t,xt,e));let wt=t[10]&&Ht(t);return it=new at({props:{items:t[11],itemHeight:24,$$slots:{default:[jt,({item:t})=>({38:t}),({item:t})=>[0,t?128:0]]},$$scope:{ctx:t}}}),{c(){pt&&pt.c(),e=m(),n=d("main"),s=d("div"),l=d("nav"),r=d("h1"),h=f("Pino Preview\n                "),b=d("span"),b.textContent="ðŸŒ²",y=m(),w=d("div"),gt&&gt.c(),v=m(),$=d("label"),$.textContent="Filter by freetext search",k=m(),T=d("div"),_=d("input"),L=m(),A=d("label"),A.textContent="Filter by timestamp (on or after)",E=m(),S=d("div"),B=d("input"),C=m(),O=d("div"),H=d("button"),H.textContent="Now",j=m(),D=d("button"),D.textContent="1 min ago",M=m(),R=d("button"),R.textContent="5 min ago",N=m(),P=d("fieldset"),F=d("div"),F.innerHTML='<legend class="block text-sm font-bold text-stone-700 mb-1">Filter by level</legend> \n                        <p class="block text-sm font-light text-stone-400">Choose the minimum log level to display</p>',z=m(),I=d("div");for(let t=0;t<7;t+=1)bt[t].c();V=m(),J=d("fieldset"),Q=d("div"),Q.innerHTML='<legend class="block text-sm font-bold text-stone-700 mb-1">Filter by component</legend> \n                        <p class="block text-sm font-light text-stone-400">Focus on a particular component</p>',W=m(),Y=d("div");for(let t=0;t<yt.length;t+=1)yt[t].c();et=m(),nt=d("div"),ot=d("p"),ot.innerHTML='<a href="/api/export" target="_blank" class="inline-flex items-center px-2.5 py-1.5 border border-stone-300 shadow-sm text-xs font-medium rounded text-stone-700 bg-white hover:bg-stone-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg xmlns="http://www.w3.org/2000/svg" class="-ml-0.5 mr-2 h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>\n                            Download log snapshot</a>',st=m(),wt&&wt.c(),lt=m(),rt=d("div"),G(it.$$.fragment),ct=m(),ut=d("div"),ut.textContent="â†“",g(b,"class","p-4 text-4xl -m-2"),g(r,"class","px-6 py-4 text-2xl text-stone-800 font-bold bg-stone-300 text-center flex items-center justify-center"),g(r,"data-test-app-title",""),g($,"for","filterByFreetextSearch"),g($,"class","block text-sm font-bold text-stone-700"),g(_,"id","filterByFreetextSearch"),g(_,"type","text"),g(_,"placeholder","Enter freetext search"),g(_,"class","mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-stone-300 rounded-md p-2"),g(T,"class","mt-1 mb-6"),g(A,"for","filterByTimestamp"),g(A,"class","block text-sm font-bold text-stone-700"),g(B,"id","filterByTimestamp"),g(B,"type","text"),g(B,"placeholder","e.g. 2021-03-23 15:10:15Z"),g(B,"class","mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-stone-300 rounded-md p-2"),g(H,"class","text-blue-500 background-transparent font-semibold uppercase px-2 py-2 text-xs outline-none focus:outline-none mr-1 mb-1"),g(H,"type","button"),g(D,"class","text-blue-500 background-transparent font-semibold uppercase px-2 py-2 text-xs outline-none focus:outline-none mr-1 mb-1"),g(D,"type","button"),g(R,"class","text-blue-500 background-transparent font-semibold uppercase px-2 py-2 text-xs outline-none focus:outline-none mr-1 mb-1"),g(R,"type","button"),g(S,"class","mb-4"),g(I,"class","mt-4 space-y-2"),g(P,"class","mb-6"),g(Y,"class","mt-4 space-y-2"),g(J,"class","mb-6"),g(ot,"class","block text-sm font-bold mb-3 text-stone-700"),g(nt,"class","mt-auto"),g(w,"class","p-6 flex-grow flex flex-col"),g(l,"class","w-80 border-r border-stone-400 overflow-y-auto flex-shrink-0 bg-stone-50 flex flex-col"),g(ut,"class","absolute w-12 h-12 right-12 bottom-6 rounded-full bg-blue-500 hover:bg-blue-400 flex items-center justify-center text-4xl cursor-pointer"),g(ut,"data-test-scroll-to-bottom",""),g(rt,"class","flex-grow bg-green-950 text-stone-100 p-6 font-mono overflow-x-hidden"),g(s,"class","h-screen flex items-stretch")},m(o,a){pt&&pt.m(o,a),c(o,e,a),c(o,n,a),i(n,s),i(s,l),i(l,r),i(r,h),i(r,b),i(l,y),i(l,w),gt&&gt.m(w,null),i(w,v),i(w,$),i(w,k),i(w,T),i(T,_),x(_,t[5]),i(w,L),i(w,A),i(w,E),i(w,S),i(S,B),x(B,t[6]),i(S,C),i(S,O),i(O,H),i(O,j),i(O,D),i(O,M),i(O,R),i(w,N),i(w,P),i(P,F),i(P,z),i(P,I);for(let t=0;t<7;t+=1)bt[t].m(I,null);i(w,V),i(w,J),i(J,Q),i(J,W),i(J,Y);for(let t=0;t<yt.length;t+=1)yt[t].m(Y,null);i(w,et),i(w,nt),i(nt,ot),i(nt,st),wt&&wt.m(nt,null),i(s,lt),i(s,rt),X(it,rt,null),i(rt,ct),i(rt,ut),dt=!0,ft||(mt=[p(Tt,"keydown",t[14]),p(_,"input",t[18]),p(B,"input",t[19]),p(H,"click",t[20]),p(D,"click",t[21]),p(R,"click",t[22]),p(ut,"click",t[12])],ft=!0)},p(t,n){if(null!==t[0]?pt?(pt.p(t,n),1&n[0]&&q(pt,1)):(pt=At(t),pt.c(),q(pt,1),pt.m(e.parentNode,e)):pt&&(K(),Z(pt,1,1,(()=>{pt=null})),U()),"closed"===t[7]?gt||(gt=Et(),gt.c(),gt.m(w,v)):gt&&(gt.d(1),gt=null),32&n[0]&&_.value!==t[5]&&x(_,t[5]),64&n[0]&&B.value!==t[6]&&x(B,t[6]),16&n[0]){let e;for(ht=[null,60,50,40,30,20,10],e=0;e<7;e+=1){const o=Lt(t,ht,e);bt[e]?bt[e].p(o,n):(bt[e]=Ct(o),bt[e].c(),bt[e].m(I,null))}for(;e<7;e+=1)bt[e].d(1)}if(8974&n[0]){let e;for(xt=[null,...t[8]],e=0;e<xt.length;e+=1){const o=_t(t,xt,e);yt[e]?yt[e].p(o,n):(yt[e]=Ot(o),yt[e].c(),yt[e].m(Y,null))}for(;e<yt.length;e+=1)yt[e].d(1);yt.length=xt.length}t[10]?wt?wt.p(t,n):(wt=Ht(t),wt.c(),wt.m(nt,null)):wt&&(wt.d(1),wt=null);const o={};2048&n[0]&&(o.items=t[11]),1&n[0]|16512&n[1]&&(o.$$scope={dirty:n,ctx:t}),it.$set(o)},i(t){dt||(q(pt),q(it.$$.fragment,t),dt=!0)},o(t){Z(pt),Z(it.$$.fragment,t),dt=!1},d(t){pt&&pt.d(t),t&&a(e),t&&a(n),gt&&gt.d(),u(bt,t),u(yt,t),wt&&wt.d(),tt(it),ft=!1,o(mt)}}}function Mt(t,e,n){let o,s="uninitialized",l=[],r=new Map,i=null,c=null,a="",u="",d=[],f=new Map,{openLog:m=null}=e,p=null;L((async()=>{const t=document.getElementsByTagName("svelte-virtual-list-viewport");if(1!==t.length)throw t;p=t[0],p.classList.add("bg-green-950")}));const g=t=>{const e=JSON.parse(t.data),o=Array.isArray(e)?e:[e];"uninitialized"===s&&n(7,s="open"),l.push(...o),n(1,l);for(const t of o){const{package:e}=t;d.includes(e)?(r.get(e).push(t),n(2,r)):(n(8,d=[...d,e]),r.set(e,[t]),n(2,r)),b(e,t.healthy)}x()},h=()=>{n(7,s="closed"),document.title="(Disconnected) â€“ "+document.title;const t=document.head.querySelector("link[rel=icon]");t instanceof HTMLLinkElement&&(t.href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB1UlEQVRYR81XPSwDYRh+npMu0kRDLCZpw0LPT8ViaysRmw0jZguJzWCTsFj9jGKziUTZLKL+LbjGZPGTSqRLuVfu4pprFT09+dx67/u8z/f+v0SFnxFO1iFoDgoYp6CLYDOIkK0uyArkVohjQvbwom1FMqnnSqD5k5DRkWiFyRkSwwLU/iRv/SeQE8EGNJmPnO5efafzJYHDWKy2Ph+aE3ASQKASw2Vk8oQsPQWysz3pdK4cRlkCRmd/i5jmJsG2XxouUhPIJTVtKHKyc12K94nAtR7v1qBtA2j0w7gL496EOdBytnfkxi0iYL0cpuz/gXHH5j009rk9USBgxTyUDx345favvGeFIxvI9jo5USCQ0RMLAk757PaycIQshs92pz8qBrBLTXhRRbZ75Z0Hpd0qUdsDRjS5CmLMK0pV8oK1yHlqnFaHYxB3lTaZqoy6lO1m9YImGnp8BNDW/QL2hmOO8kZPLBOc8Kboj7RAVmhEE4cgY/5AekQRSTMTTT4I0eBR1RdxCh6Z0ZOvAtT4gugRhMDbPyCgOgTKk1B9GapuRMpbsfJhZBNQPY4tEkoXEouA8pXMDoXKpdRp40rXcoeE0sPEIaH0NHNPVWXHaelo/6vz/B2OtwUw7C6u7QAAAABJRU5ErkJggg==")},b=(t,e)=>{t&&void 0!==e&&(f.set(t,Boolean(e)),n(9,f))},x=()=>{if(!p)return;const t=p.scrollHeight-(p.scrollTop+p.offsetHeight)<24;console.log({shouldScroll:t}),t&&setTimeout((()=>{y()}),0)},y=()=>{p&&p.scroll(0,p.scrollHeight)},w=()=>{const t=window.performance.memory;if(!t)return;const{usedJSHeapSize:e,totalJSHeapSize:o}=t;n(10,v=`\n            Used: ${(e/1024/1024).toFixed(1)} MiB\n            Total: ${(o/1024/1024).toFixed(1)} MiB\n        `)};let v="";w(),setInterval(w,5e3),window.onload=()=>{(async()=>{const t=new WebSocket(`ws://${location.host}/api/ws`);t.addEventListener("message",g),t.addEventListener("close",h)})()};const $=t=>{const{detail:{offset:e}}=t;if(!m)return;const s=o.indexOf(m),l=s+e,r=!(-1===s||l<0||l>o.length-1);n(0,m=r?o[l]:null)};return t.$$set=t=>{"openLog"in t&&n(0,m=t.openLog)},t.$$.update=()=>{126&t.$$.dirty[0]&&n(11,o=(null!==i?r.get(i):l).filter((t=>((t,e)=>{const n=new Date(t).getTime();return""===t||e.time>=n})(u,t))).filter((t=>((t,e)=>null===t||void 0!==e.level&&e.level>=t)(c,t))).filter((t=>((t,e)=>""===t||-1!==JSON.stringify(e).toLowerCase().indexOf(t.toLowerCase()))(a,t))).sort(((t,e)=>t.time-e.time))),120&t.$$.dirty[0]&&(async()=>{p&&p.scroll(0,0)})()},[m,l,r,i,c,a,u,s,d,f,v,o,y,t=>null===t?"(Disable filter)":void 0===t?"Only show entries with no component field":"not-json"===t?"Only show unstructured entries":`Only show component: <span class="font-mono">"${t}"</span>`,t=>{"Escape"===t.key?n(0,m=null):"ArrowUp"===t.key||"k"===t.key?m&&$({detail:{offset:-1}}):"ArrowDown"!==t.key&&"j"!==t.key||m&&$({detail:{offset:1}})},$,function(t){m=t,n(0,m)},function(t){u=t,n(6,u)},function(){a=this.value,n(5,a)},function(){u=this.value,n(6,u)},()=>{n(6,u=new Date(Date.now()-0).toISOString())},()=>{n(6,u=new Date(Date.now()-6e4).toISOString())},()=>{n(6,u=new Date(Date.now()-3e5).toISOString())},function(){c=this.__value,n(4,c)},[[],[]],function(){i=this.__value,n(3,i)},t=>{n(0,m=t)}]}return new class extends nt{constructor(t){super(),et(this,t,Mt,Dt,l,{openLog:0},null,[-1,-1])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
