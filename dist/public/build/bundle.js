var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function i(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function m(){return f(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:p(t,e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}function x(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let w,v;function $(){if(void 0===w){w=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){w=!0}}return w}function k(t,e,n){t.classList[n?"add":"remove"](e)}function T(t){v=t}function _(){if(!v)throw new Error("Function called outside component initialization");return v}function L(t){_().$$.on_mount.push(t)}function A(){const t=_();return(e,n,{cancelable:o=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,o,e),l}(e,n,{cancelable:o});return l.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}function E(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const S=[],B=[],C=[],O=[],H=Promise.resolve();let D=!1;function M(){D||(D=!0,H.then(z))}function j(){return M(),H}function R(t){C.push(t)}function N(t){O.push(t)}const F=new Set;let P=0;function z(){const t=v;do{for(;P<S.length;){const t=S[P];P++,T(t),I(t.$$)}for(T(null),S.length=0,P=0;B.length;)B.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];F.has(e)||(F.add(e),e())}C.length=0}while(S.length);for(;O.length;)O.pop()();D=!1,F.clear(),T(t)}function I(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const J=new Set;let V;function q(){V={r:0,c:[],p:V}}function K(){V.r||o(V.c),V=V.p}function U(t,e){t&&t.i&&(J.delete(t),t.i(e))}function Z(t,e,n,o){if(t&&t.o){if(J.has(t))return;J.add(t),V.c.push((()=>{J.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const Q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function W(t,e){Z(t,1,1,(()=>{e.delete(t.key)}))}function Y(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function G(t){t&&t.c()}function X(t,n,s,r){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=t.$$;i&&i.m(n,s),r||R((()=>{const n=a.map(e).filter(l);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(R)}function tt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(e,l,s,r,i,a,u,d=[-1]){const f=v;T(e);const m=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:l.target||f.$$.root};u&&u(m.root);let g=!1;if(m.ctx=s?s(e,l.props||{},((t,n,...o)=>{const l=o.length?o[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=l)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](l),g&&function(t,e){-1===t.$$.dirty[0]&&(S.push(t),M(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],m.update(),g=!0,o(m.before_update),m.fragment=!!r&&r(m.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);m.fragment&&m.fragment.l(t),t.forEach(c)}else m.fragment&&m.fragment.c();l.intro&&U(e.$$.fragment),X(e,l.target,l.anchor,l.customElement),z()}T(f)}class nt{$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(t,e,n){const o=t.slice();return o[23]=e[n],o}const lt=t=>({item:16&t}),st=t=>({item:t[23].data});function rt(t,e){let n,o,l;const s=e[14].default,u=function(t,e,n,o){if(t){const l=r(t,e,n,o);return t[0](l)}}(s,e,e[13],st),g=u||function(t){let e;return{c(){e=f("Missing template")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}();return{key:t,first:null,c(){n=d("svelte-virtual-list-row"),g&&g.c(),o=m(),h(n,"class","svelte-1tqh76q"),this.first=n},m(t,e){a(t,n,e),g&&g.m(n,null),i(n,o),l=!0},p(t,n){e=t,u&&u.p&&(!l||8208&n)&&function(t,e,n,o,l,s){if(l){const i=r(e,n,o,s);t.p(i,l)}}(u,s,e,e[13],l?function(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|l[o];return t}return e.dirty|l}return e.dirty}(s,e[13],n,lt):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(e[13]),st)},i(t){l||(U(g,t),l=!0)},o(t){Z(g,t),l=!1},d(t){t&&c(n),g&&g.d(t)}}}function it(t){let e,n,o,l,s,r,u=[],f=new Map,m=t[4];const p=t=>t[23].index;for(let e=0;e<m.length;e+=1){let n=ot(t,m,e),o=p(n);f.set(o,u[e]=rt(o,n))}return{c(){e=d("svelte-virtual-list-viewport"),n=d("svelte-virtual-list-contents");for(let t=0;t<u.length;t+=1)u[t].c();x(n,"padding-top",t[5]+"px"),x(n,"padding-bottom",t[6]+"px"),h(n,"class","svelte-1tqh76q"),x(e,"height",t[0]),h(e,"class","svelte-1tqh76q"),R((()=>t[17].call(e)))},m(f,m){a(f,e,m),i(e,n);for(let t=0;t<u.length;t+=1)u[t].m(n,null);t[15](n),t[16](e),o=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=d("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=$();let l;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=g(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{l=g(n.contentWindow,"resize",e)}),i(t,n),()=>{(o||l&&n.contentWindow)&&l(),c(n)}}(e,t[17].bind(e)),l=!0,s||(r=g(e,"scroll",t[7]),s=!0)},p(t,[o]){8208&o&&(m=t[4],q(),u=function(t,e,n,o,l,s,r,i,a,c,u,d){let f=t.length,m=s.length,g=f;const p={};for(;g--;)p[t[g].key]=g;const h=[],b=new Map,y=new Map;for(g=m;g--;){const t=d(l,s,g),i=n(t);let a=r.get(i);a?o&&a.p(t,e):(a=c(i,t),a.c()),b.set(i,h[g]=a),i in p&&y.set(i,Math.abs(g-p[i]))}const x=new Set,w=new Set;function v(t){U(t,1),t.m(i,u),r.set(t.key,t),u=t.first,m--}for(;f&&m;){const e=h[m-1],n=t[f-1],o=e.key,l=n.key;e===n?(u=e.first,f--,m--):b.has(l)?!r.has(o)||x.has(o)?v(e):w.has(l)?f--:y.get(o)>y.get(l)?(w.add(o),v(e)):(x.add(l),f--):(a(n,r),f--)}for(;f--;){const e=t[f];b.has(e.key)||a(e,r)}for(;m;)v(h[m-1]);return h}(u,o,p,1,t,m,f,n,W,rt,null,ot),K()),(!l||32&o)&&x(n,"padding-top",t[5]+"px"),(!l||64&o)&&x(n,"padding-bottom",t[6]+"px"),(!l||1&o)&&x(e,"height",t[0])},i(t){if(!l){for(let t=0;t<m.length;t+=1)U(u[t]);l=!0}},o(t){for(let t=0;t<u.length;t+=1)Z(u[t]);l=!1},d(n){n&&c(e);for(let t=0;t<u.length;t+=1)u[t].d();t[15](null),t[16](null),o(),s=!1,r()}}}function at(t,e,n){let o,l,s,r,i,a,{$$slots:c={},$$scope:u}=e,{items:d}=e,{height:f="100%"}=e,{itemHeight:m}=e,{start:g=0}=e,{end:p=0}=e,h=[],b=0,y=0,x=0;return L((()=>{o=s.getElementsByTagName("svelte-virtual-list-row"),n(12,i=!0)})),t.$$set=t=>{"items"in t&&n(10,d=t.items),"height"in t&&n(0,f=t.height),"itemHeight"in t&&n(11,m=t.itemHeight),"start"in t&&n(8,g=t.start),"end"in t&&n(9,p=t.end),"$$scope"in t&&n(13,u=t.$$scope)},t.$$.update=()=>{1792&t.$$.dirty&&n(4,r=d.slice(g,p).map(((t,e)=>({index:e+g,data:t})))),7170&t.$$.dirty&&i&&async function(t,e,s){const{scrollTop:r}=l;await j();let i=y-r,c=g;for(;i<e&&c<t.length;){let t=o[c-g];t||(n(9,p=c+1),await j(),t=o[c-g]),i+=h[c]=s||t.offsetHeight,c+=1}n(9,p=c);const u=t.length-p;a=(y+i)/p,n(6,x=u*a),h.length=t.length}(d,b,m)},[f,b,l,s,r,y,x,async function(){const{scrollTop:t}=l,e=g;for(let t=0;t<o.length;t+=1)h[g+t]=m||o[t].offsetHeight;let s=0,r=0;for(;s<d.length;){const e=h[s]||a;if(r+e>t){n(8,g=s),n(5,y=r);break}r+=e,s+=1}for(;s<d.length&&(r+=h[s]||a,s+=1,!(r>t+b)););n(9,p=s);const i=d.length-p;for(a=r/p;s<d.length;)h[s++]=a;if(n(6,x=i*a),g<e){await j();let n=0,s=0;for(let t=g;t<e;t+=1)o[t-g]&&(n+=h[t],s+=m||o[t-g].offsetHeight);const r=s-n;l.scrollTo(0,t+r)}},g,p,d,m,i,u,c,function(t){B[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},function(t){B[t?"unshift":"push"]((()=>{l=t,n(2,l)}))},function(){b=this.offsetHeight,n(1,b)}]}class ct extends nt{constructor(t){super(),et(this,t,at,it,s,{items:10,height:0,itemHeight:11,start:8,end:9})}}function ut(t){let e,n,o,l,s,r,u,g,h=t[3](t[0].time)+"",y=gt(t[0].level).label+"",x=t[0].msg+"";return{c(){e=f(h),n=m(),o=d("span"),l=f(y),r=f(" :\n        "),u=d("span"),g=f(x),p(o,"class",s=gt(t[0].level).class),p(u,"class","text-blue-400 whitespace-pre")},m(t,s){a(t,e,s),a(t,n,s),a(t,o,s),i(o,l),a(t,r,s),a(t,u,s),i(u,g)},p(t,n){1&n&&h!==(h=t[3](t[0].time)+"")&&b(e,h),1&n&&y!==(y=gt(t[0].level).label+"")&&b(l,y),1&n&&s!==(s=gt(t[0].level).class)&&p(o,"class",s),1&n&&x!==(x=t[0].msg+"")&&b(g,x)},d(t){t&&c(e),t&&c(n),t&&c(o),t&&c(r),t&&c(u)}}}function dt(t){let e,n,o,l,s,r,u=t[3](t[0].time)+"",g=t[0].message+"";return{c(){e=d("span"),n=f(u),o=m(),l=f(t[2]),s=m(),r=f(g),p(e,"class","text-gray-500 whitespace-pre")},m(t,c){a(t,e,c),i(e,n),i(e,o),i(e,l),i(e,s),i(e,r)},p(t,e){1&e&&u!==(u=t[3](t[0].time)+"")&&b(n,u),1&e&&g!==(g=t[0].message+"")&&b(r,g)},d(t){t&&c(e)}}}function ft(t){let e,n=pt(JSON.stringify(t[0],null,4))+"";return{c(){e=d("div"),p(e,"class","whitespace-pre-wrap px-4 text-yellow-200 mt-4")},m(t,o){a(t,e,o),e.innerHTML=n},p(t,o){1&o&&n!==(n=pt(JSON.stringify(t[0],null,4))+"")&&(e.innerHTML=n)},d(t){t&&c(e)}}}function mt(e){let n,o,l,s,r;function i(t,e){return"not-json"===t[0].package?dt:ut}let u=i(e),h=u(e),b=e[1]&&ft(e);return{c(){n=d("div"),h.c(),o=m(),b&&b.c(),l=f(""),p(n,"class","rounded-sm px-4 truncate font-mono text-blue-400"),x(n,"height","24px"),k(n,"text-blue-400","not-json"!==e[0].package),k(n,"text-gray-500","not-json"===e[0].package),k(n,"cursor-pointer",!e[1]),k(n,"hover:bg-gray-700",!e[1])},m(t,i){a(t,n,i),h.m(n,null),a(t,o,i),b&&b.m(t,i),a(t,l,i),s||(r=g(n,"click",e[4]),s=!0)},p(t,[e]){u===(u=i(t))&&h?h.p(t,e):(h.d(1),h=u(t),h&&(h.c(),h.m(n,null))),1&e&&k(n,"text-blue-400","not-json"!==t[0].package),1&e&&k(n,"text-gray-500","not-json"===t[0].package),2&e&&k(n,"cursor-pointer",!t[1]),2&e&&k(n,"hover:bg-gray-700",!t[1]),t[1]?b?b.p(t,e):(b=ft(t),b.c(),b.m(l.parentNode,l)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&c(n),h.d(),t&&c(o),b&&b.d(t),t&&c(l),s=!1,r()}}}const gt=t=>{switch(t){case 60:return{class:"text-red-400",label:"FATAL"};case 50:return{class:"text-red-400",label:"ERROR"};case 40:return{class:"text-yellow-500",label:"WARN "};case 30:return{class:"text-green-400",label:"INFO "};case 20:return{class:"text-blue-400",label:"DEBUG"};case 10:return{class:"text-gray-500",label:"TRACE"};default:return`${t}`}};function pt(t){const e={number:"text-blue-400 hover:text-blue-300 hover:bg-blue-900 cursor-pointer p-1 -m-1 rounded",string:"text-green-400 hover:text-green-300 hover:bg-green-900 cursor-pointer p-1 -m-1 rounded",boolean:"text-red-400 font-bold",null:"text-gray-400 font-bold",key:"hover:text-yellow-300 hover:bg-yellow-900 cursor-pointer p-1 -m-1 rounded"};return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(t=>{const n=(t=>/^"/.test(t)?/:$/.test(t)?"key":"string":/^\d+$/.test(t)?"number":/true|false/.test(t)?"boolean":/null/.test(t)?"null":void 0)(t);return`<span class="${e[n]??""}" ${["string","number","key"].includes(n)?'onClick="window.copy(this.innerText)"':""}>${t}</span>`}))}function ht(t,e,n){let{logEntry:o}=e,{isVerbose:l=!1}=e;const s="-"+"".padStart(4," ")+" :",r=A();return window.copy=async t=>{const e=t.replace(/^"/,"").replace(/"$|":$/,"");await navigator.clipboard.writeText(e),r("copy")},t.$$set=t=>{"logEntry"in t&&n(0,o=t.logEntry),"isVerbose"in t&&n(1,l=t.isVerbose)},[o,l,s,t=>{try{return new Date(t).toISOString().replace(/\.\d\d\d/,"").replace("T"," ")}catch(t){return"(Invalid timestamp)"}},function(e){E.call(this,t,e)}]}class bt extends nt{constructor(t){super(),et(this,t,ht,mt,s,{logEntry:0,isVerbose:1})}}const yt=t=>t<6e4?`${(t/1e3).toFixed(0)} second(s) ago`:`${(t/6e4).toFixed(0)} minute(s) ago`;function xt(t){let e;return{c(){e=f("Copy JSON")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function wt(t){let e;return{c(){e=f("Copied JSON to clipboard!")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function vt(t){let e,n,l,s,r,u,h,y,w,v,$,T,_,L,A,E,S,B,C,O,H,D,M,j,R,N,F,P,z,I,J,V,q,K,Q,W=yt(t[1]-new Date(t[0].time))+"";function Y(t,e){return t[2]?wt:xt}C=new bt({props:{logEntry:t[0],isVerbose:!0}}),C.$on("copy",t[7]);let et=Y(t),nt=et(t);return{c(){e=d("div"),n=d("div"),l=d("div"),l.innerHTML='<div class="absolute inset-0 bg-gray-500 opacity-75"></div>',s=m(),r=d("span"),r.textContent="​",u=m(),h=d("div"),y=d("div"),w=d("h3"),v=d("span"),v.textContent="Message details",$=m(),T=d("span"),_=f(W),L=m(),A=d("div"),E=d("div"),S=d("div"),B=d("div"),G(C.$$.fragment),O=m(),H=d("div"),D=d("button"),D.textContent="Close",M=m(),j=d("button"),nt.c(),R=m(),N=d("button"),N.textContent="Hide older logs",F=m(),P=d("span"),P.textContent="Copied value to clipboard!",z=m(),I=d("button"),I.textContent="↓ Next",J=m(),V=d("button"),V.textContent="↑ Previous",p(l,"class","fixed inset-0 transition-opacity"),p(l,"aria-hidden","true"),p(r,"class","hidden sm:inline-block sm:align-middle sm:h-screen"),p(r,"aria-hidden","true"),p(T,"class","ml-auto"),p(w,"class","h-full text-lg leading-6 font-medium text-gray-700 sm:ml-4 flex items-center"),p(w,"id","modal-headline"),p(y,"class","bg-gray-200 px-4 py-3 sm:px-6 h-16 border-b-2 border-gray-300"),p(B,"class","mt-2 bg-gray-900 text-white rounded p-6 font-mono"),p(S,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-grow overflow-x-hidden bg-gray-900 rounded"),x(S,"height","60vh"),p(E,"class","sm:flex sm:items-start"),p(A,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),p(D,"type","button"),p(D,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),p(D,"data-test-modal-close",""),p(j,"type","button"),p(j,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),p(N,"type","button"),p(N,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),p(P,"class","flex items-center text-green-600 font-medium mr-2 transition-opacity"),k(P,"opacity-0","number"!=typeof t[3]),k(P,"opacity-100","number"==typeof t[3]),p(I,"type","button"),p(I,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm mr-auto"),p(V,"type","button"),p(V,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),p(H,"class","bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse h-16"),p(h,"class","inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg lg:max-w-5xl sm:w-full overflow-x-auto"),p(h,"role","dialog"),p(h,"aria-modal","true"),p(h,"aria-labelledby","modal-headline"),p(n,"class","flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"),p(e,"class","fixed z-10 inset-0 overflow-y-auto"),p(e,"data-test-modal","")},m(o,c){a(o,e,c),i(e,n),i(n,l),i(n,s),i(n,r),i(n,u),i(n,h),i(h,y),i(y,w),i(w,v),i(w,$),i(w,T),i(T,_),i(h,L),i(h,A),i(A,E),i(E,S),i(S,B),X(C,B,null),i(h,O),i(h,H),i(H,D),i(H,M),i(H,j),nt.m(j,null),i(H,R),i(H,N),i(H,F),i(H,P),i(H,z),i(H,I),i(H,J),i(H,V),q=!0,K||(Q=[g(l,"click",t[5]),g(D,"click",t[5]),g(j,"click",t[6]),g(N,"click",t[8]),g(I,"click",t[10]),g(V,"click",t[11])],K=!0)},p(t,[e]){(!q||3&e)&&W!==(W=yt(t[1]-new Date(t[0].time))+"")&&b(_,W);const n={};1&e&&(n.logEntry=t[0]),C.$set(n),et!==(et=Y(t))&&(nt.d(1),nt=et(t),nt&&(nt.c(),nt.m(j,null))),8&e&&k(P,"opacity-0","number"!=typeof t[3]),8&e&&k(P,"opacity-100","number"==typeof t[3])},i(t){q||(U(C.$$.fragment,t),q=!0)},o(t){Z(C.$$.fragment,t),q=!1},d(t){t&&c(e),tt(C),nt.d(),K=!1,o(Q)}}}function $t(t,e,n){let{openLog:o}=e,{filterByTimestamp:l}=e;const s=A();let r=new Date;const i=setInterval((()=>{n(1,r=new Date)}),1e3);var a;a=()=>{clearInterval(i)},_().$$.on_destroy.push(a);let c=!1;let u=!1;return t.$$set=t=>{"openLog"in t&&n(0,o=t.openLog),"filterByTimestamp"in t&&n(9,l=t.filterByTimestamp)},[o,r,c,u,s,()=>{n(0,o=null)},async()=>{await navigator.clipboard.writeText(JSON.stringify(o,null,4)),n(2,c=!0)},()=>{"number"==typeof u&&clearTimeout(u),n(3,u=setTimeout((()=>{n(3,u=!1)}),2e3))},async()=>{n(9,l=new Date(o.time).toISOString())},l,()=>s("navigateByOffset",{offset:1}),()=>s("navigateByOffset",{offset:-1})]}class kt extends nt{constructor(t){super(),et(this,t,$t,vt,s,{openLog:0,filterByTimestamp:9})}}const{window:Tt}=Q;function _t(t,e,n){const o=t.slice();return o[39]=e[n],o}function Lt(t,e,n){const o=t.slice();return o[42]=e[n],o}function At(t){let e,n,o,l;function s(e){t[16](e)}function r(e){t[17](e)}let i={};return void 0!==t[0]&&(i.openLog=t[0]),void 0!==t[6]&&(i.filterByTimestamp=t[6]),e=new kt({props:i}),B.push((()=>Y(e,"openLog",s))),B.push((()=>Y(e,"filterByTimestamp",r))),e.$on("navigateByOffset",t[15]),{c(){G(e.$$.fragment)},m(t,n){X(e,t,n),l=!0},p(t,l){const s={};!n&&1&l[0]&&(n=!0,s.openLog=t[0],N((()=>n=!1))),!o&&64&l[0]&&(o=!0,s.filterByTimestamp=t[6],N((()=>o=!1))),e.$set(s)},i(t){l||(U(e.$$.fragment,t),l=!0)},o(t){Z(e.$$.fragment,t),l=!1},d(t){tt(e,t)}}}function Et(t){let e;return{c(){e=d("div"),e.innerHTML='<span class="flex rounded-full bg-red-500 uppercase px-2 py-1 text-xs font-bold mr-3">Note</span> \n                        <span class="font-semibold mr-2 text-left flex-auto">Log stream terminated</span>',p(e,"class","p-2 bg-red-800 items-center text-red-100 leading-none rounded-full flex mb-6"),p(e,"role","alert"),p(e,"data-test-ws-terminated","")},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function St(e){let n;return{c(){n=f("Display all (Disable filter)")},m(t,e){a(t,n,e)},p:t,d(t){t&&c(n)}}}function Bt(e){let n,o,l,s,r,u=gt(e[42]).label+"";return{c(){n=d("span"),o=f(u),l=f(" ("),s=f(e[42]),r=f(")"),p(n,"class",gt(e[42]).class)},m(t,e){a(t,n,e),i(n,o),i(n,l),i(n,s),i(n,r)},p:t,d(t){t&&c(n)}}}function Ct(t){let e,n,o,l,s,r,u,f,h,b;let y=function(t,e){return null!==t[42]?Bt:St}(t)(t);return{c(){e=d("div"),n=d("input"),s=m(),r=d("label"),y.c(),f=m(),n.__value=o=t[42],n.value=n.__value,p(n,"id",l="filterByLevel_"+t[42]),p(n,"type","radio"),p(n,"class","focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 cursor-pointer"),t[24][0].push(n),p(r,"for",u="filterByLevel_"+t[42]),p(r,"class","ml-3 block text-sm font-medium text-gray-700 cursor-pointer"),p(e,"class","flex items-center")},m(o,l){a(o,e,l),i(e,n),n.checked=n.__value===t[4],i(e,s),i(e,r),y.m(r,null),i(e,f),h||(b=g(n,"change",t[23]),h=!0)},p(t,e){16&e[0]&&(n.checked=n.__value===t[4]),y.p(t,e)},d(o){o&&c(e),t[24][0].splice(t[24][0].indexOf(n),1),y.d(),h=!1,b()}}}function Ot(t){let e,n,o,l,s,r,u,h,y,x,w,v,$,T,_=t[13](t[39])+"",L=(t[2].get(t[39])||t[1]).length+"";return{c(){e=d("div"),n=d("input"),s=m(),r=d("label"),u=d("div"),h=m(),y=d("span"),x=f(L),v=m(),n.__value=o=t[39],n.value=n.__value,p(n,"id",l="filterByPackage_"+t[39]),p(n,"type","radio"),p(n,"class","focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 cursor-pointer"),t[24][1].push(n),p(u,"class","text-left flex-grow"),p(y,"class","inline-flex items-center justify-center w-8 ml-4 px-2 py-1 text-xs font-bold leading-none text-gray-500 bg-gray-300 rounded-full"),k(y,"bg-red-200",!1===t[9].get(t[39])),k(y,"text-red-600",!1===t[9].get(t[39])),k(y,"bg-green-200",!0===t[9].get(t[39])),k(y,"text-green-600",!0===t[9].get(t[39])),p(r,"for",w="filterByPackage_"+t[39]),p(r,"class","ml-3 block text-sm font-medium text-gray-700 flex-grow flex items-center cursor-pointer"),p(e,"class","flex items-center")},m(o,l){a(o,e,l),i(e,n),n.checked=n.__value===t[3],i(e,s),i(e,r),i(r,u),u.innerHTML=_,i(r,h),i(r,y),i(y,x),i(e,v),$||(T=g(n,"change",t[25]),$=!0)},p(t,e){256&e[0]&&o!==(o=t[39])&&(n.__value=o,n.value=n.__value),256&e[0]&&l!==(l="filterByPackage_"+t[39])&&p(n,"id",l),8&e[0]&&(n.checked=n.__value===t[3]),256&e[0]&&_!==(_=t[13](t[39])+"")&&(u.innerHTML=_),262&e[0]&&L!==(L=(t[2].get(t[39])||t[1]).length+"")&&b(x,L),768&e[0]&&k(y,"bg-red-200",!1===t[9].get(t[39])),768&e[0]&&k(y,"text-red-600",!1===t[9].get(t[39])),768&e[0]&&k(y,"bg-green-200",!0===t[9].get(t[39])),768&e[0]&&k(y,"text-green-600",!0===t[9].get(t[39])),256&e[0]&&w!==(w="filterByPackage_"+t[39])&&p(r,"for",w)},d(o){o&&c(e),t[24][1].splice(t[24][1].indexOf(n),1),$=!1,T()}}}function Ht(t){let e,n,o,l,s;return{c(){e=d("div"),n=d("p"),n.textContent="Heap",o=m(),l=d("p"),s=f(t[10]),p(n,"class","block text-sm font-bold mb-1"),p(l,"class","block text-sm font-light"),p(e,"class","text-gray-300")},m(t,r){a(t,e,r),i(e,n),i(e,o),i(e,l),i(l,s)},p(t,e){1024&e[0]&&b(s,t[10])},d(t){t&&c(e)}}}function Dt(t){let e,n;return e=new bt({props:{logEntry:t[38],isVerbose:!1}}),e.$on("click",(function(){return t[26](t[38])})),{c(){G(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(n,o){t=n;const l={};128&o[1]&&(l.logEntry=t[38]),e.$set(l)},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Mt(t){let e,n,l,s,r,f,h,b,x,w,v,$,k,T,_,L,A,E,S,B,C,O,H,D,M,j,R,N,F,P,z,I,J,V,Q,W,Y,et,nt,ot,lt,st,rt,it,at,ut,dt=null!==t[0]&&At(t),ft="closed"===t[7]&&Et(),mt=[null,60,50,40,30,20,10],gt=[];for(let e=0;e<7;e+=1)gt[e]=Ct(Lt(t,mt,e));let pt=[null,...t[8]],ht=[];for(let e=0;e<pt.length;e+=1)ht[e]=Ot(_t(t,pt,e));let bt=t[10]&&Ht(t);return lt=new ct({props:{items:t[11],itemHeight:24,$$slots:{default:[Dt,({item:t})=>({38:t}),({item:t})=>[0,t?128:0]]},$$scope:{ctx:t}}}),{c(){dt&&dt.c(),e=m(),n=d("main"),l=d("div"),s=d("nav"),r=d("h1"),r.textContent="JSON Log Preview",f=m(),h=d("div"),ft&&ft.c(),b=m(),x=d("label"),x.textContent="Filter by freetext search",w=m(),v=d("div"),$=d("input"),k=m(),T=d("label"),T.textContent="Filter by timestamp (on or after)",_=m(),L=d("div"),A=d("input"),E=m(),S=d("div"),B=d("button"),B.textContent="Now",C=m(),O=d("button"),O.textContent="1 min ago",H=m(),D=d("button"),D.textContent="5 min ago",M=m(),j=d("fieldset"),R=d("div"),R.innerHTML='<legend class="block text-sm font-bold text-gray-700 mb-1">Filter by level</legend> \n                        <p class="block text-sm font-light text-gray-400">Choose the minimum log level to display</p>',N=m(),F=d("div");for(let t=0;t<7;t+=1)gt[t].c();P=m(),z=d("fieldset"),I=d("div"),I.innerHTML='<legend class="block text-sm font-bold text-gray-700 mb-1">Filter by component</legend> \n                        <p class="block text-sm font-light text-gray-400">Focus on a particular component</p>',J=m(),V=d("div");for(let t=0;t<ht.length;t+=1)ht[t].c();Q=m(),W=d("div"),Y=d("p"),Y.innerHTML='<a href="/api/export" target="_blank" class="inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg xmlns="http://www.w3.org/2000/svg" class="-ml-0.5 mr-2 h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>\n                            Download log snapshot</a>',et=m(),bt&&bt.c(),nt=m(),ot=d("div"),G(lt.$$.fragment),st=m(),rt=d("div"),rt.textContent="↓",p(r,"class","p-6 text-2xl text-gray-800 font-bold bg-gray-200 text-center"),p(r,"data-test-app-title",""),p(x,"for","filterByFreetextSearch"),p(x,"class","block text-sm font-bold text-gray-700"),p($,"id","filterByFreetextSearch"),p($,"type","text"),p($,"placeholder","Enter freetext search"),p($,"class","mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"),p(v,"class","mt-1 mb-6"),p(T,"for","filterByTimestamp"),p(T,"class","block text-sm font-bold text-gray-700"),p(A,"id","filterByTimestamp"),p(A,"type","text"),p(A,"placeholder","e.g. 2021-03-23 15:10:15Z"),p(A,"class","mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"),p(B,"class","text-blue-500 background-transparent font-semibold uppercase px-2 py-2 text-xs outline-none focus:outline-none mr-1 mb-1"),p(B,"type","button"),p(O,"class","text-blue-500 background-transparent font-semibold uppercase px-2 py-2 text-xs outline-none focus:outline-none mr-1 mb-1"),p(O,"type","button"),p(D,"class","text-blue-500 background-transparent font-semibold uppercase px-2 py-2 text-xs outline-none focus:outline-none mr-1 mb-1"),p(D,"type","button"),p(L,"class","mb-4"),p(F,"class","mt-4 space-y-2"),p(j,"class","mb-6"),p(V,"class","mt-4 space-y-2"),p(z,"class","mb-6"),p(Y,"class","block text-sm font-bold mb-3 text-gray-700"),p(W,"class","mt-auto"),p(h,"class","p-6 flex-grow flex flex-col"),p(s,"class","w-80 border-r border-gray-200 overflow-y-auto flex-shrink-0 bg-gray-50 flex flex-col"),p(rt,"class","absolute w-12 h-12 right-12 bottom-6 rounded-full bg-blue-500 hover:bg-blue-400 flex items-center justify-center text-4xl cursor-pointer"),p(rt,"data-test-scroll-to-bottom",""),p(ot,"class","flex-grow bg-gray-900 text-gray-100 p-6 font-mono overflow-x-hidden"),p(l,"class","h-screen flex flex items-stretch")},m(o,c){dt&&dt.m(o,c),a(o,e,c),a(o,n,c),i(n,l),i(l,s),i(s,r),i(s,f),i(s,h),ft&&ft.m(h,null),i(h,b),i(h,x),i(h,w),i(h,v),i(v,$),y($,t[5]),i(h,k),i(h,T),i(h,_),i(h,L),i(L,A),y(A,t[6]),i(L,E),i(L,S),i(S,B),i(S,C),i(S,O),i(S,H),i(S,D),i(h,M),i(h,j),i(j,R),i(j,N),i(j,F);for(let t=0;t<7;t+=1)gt[t].m(F,null);i(h,P),i(h,z),i(z,I),i(z,J),i(z,V);for(let t=0;t<ht.length;t+=1)ht[t].m(V,null);i(h,Q),i(h,W),i(W,Y),i(W,et),bt&&bt.m(W,null),i(l,nt),i(l,ot),X(lt,ot,null),i(ot,st),i(ot,rt),it=!0,at||(ut=[g(Tt,"keydown",t[14]),g($,"input",t[18]),g(A,"input",t[19]),g(B,"click",t[20]),g(O,"click",t[21]),g(D,"click",t[22]),g(rt,"click",t[12])],at=!0)},p(t,n){if(null!==t[0]?dt?(dt.p(t,n),1&n[0]&&U(dt,1)):(dt=At(t),dt.c(),U(dt,1),dt.m(e.parentNode,e)):dt&&(q(),Z(dt,1,1,(()=>{dt=null})),K()),"closed"===t[7]?ft||(ft=Et(),ft.c(),ft.m(h,b)):ft&&(ft.d(1),ft=null),32&n[0]&&$.value!==t[5]&&y($,t[5]),64&n[0]&&A.value!==t[6]&&y(A,t[6]),16&n[0]){let e;for(mt=[null,60,50,40,30,20,10],e=0;e<7;e+=1){const o=Lt(t,mt,e);gt[e]?gt[e].p(o,n):(gt[e]=Ct(o),gt[e].c(),gt[e].m(F,null))}for(;e<7;e+=1)gt[e].d(1)}if(8974&n[0]){let e;for(pt=[null,...t[8]],e=0;e<pt.length;e+=1){const o=_t(t,pt,e);ht[e]?ht[e].p(o,n):(ht[e]=Ot(o),ht[e].c(),ht[e].m(V,null))}for(;e<ht.length;e+=1)ht[e].d(1);ht.length=pt.length}t[10]?bt?bt.p(t,n):(bt=Ht(t),bt.c(),bt.m(W,null)):bt&&(bt.d(1),bt=null);const o={};2048&n[0]&&(o.items=t[11]),1&n[0]|16512&n[1]&&(o.$$scope={dirty:n,ctx:t}),lt.$set(o)},i(t){it||(U(dt),U(lt.$$.fragment,t),it=!0)},o(t){Z(dt),Z(lt.$$.fragment,t),it=!1},d(t){dt&&dt.d(t),t&&c(e),t&&c(n),ft&&ft.d(),u(gt,t),u(ht,t),bt&&bt.d(),tt(lt),at=!1,o(ut)}}}function jt(t,e,n){let o,l="uninitialized",s=[],r=new Map,i=null,a=null,c="",u="",d=[],f=new Map,{openLog:m=null}=e,g=null;L((async()=>{const t=document.getElementsByTagName("svelte-virtual-list-viewport");if(1!==t.length)throw t;g=t[0],g.classList.add("bg-gray-900")}));const p=t=>{const e=JSON.parse(t.data),o=Array.isArray(e)?e:[e];"uninitialized"===l&&n(7,l="open"),s.push(...o),n(1,s);for(const t of o){const{package:e}=t;d.includes(e)?(r.get(e).push(t),n(2,r)):(n(8,d=[...d,e]),r.set(e,[t]),n(2,r)),b(e,t.healthy)}y()},h=()=>{n(7,l="closed"),document.title="(Disconnected) – "+document.title;const t=document.head.querySelector("link[rel=icon]");t instanceof HTMLLinkElement&&(t.href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB1UlEQVRYR81XPSwDYRh+npMu0kRDLCZpw0LPT8ViaysRmw0jZguJzWCTsFj9jGKziUTZLKL+LbjGZPGTSqRLuVfu4pprFT09+dx67/u8z/f+v0SFnxFO1iFoDgoYp6CLYDOIkK0uyArkVohjQvbwom1FMqnnSqD5k5DRkWiFyRkSwwLU/iRv/SeQE8EGNJmPnO5efafzJYHDWKy2Ph+aE3ASQKASw2Vk8oQsPQWysz3pdK4cRlkCRmd/i5jmJsG2XxouUhPIJTVtKHKyc12K94nAtR7v1qBtA2j0w7gL496EOdBytnfkxi0iYL0cpuz/gXHH5j009rk9USBgxTyUDx345favvGeFIxvI9jo5USCQ0RMLAk757PaycIQshs92pz8qBrBLTXhRRbZ75Z0Hpd0qUdsDRjS5CmLMK0pV8oK1yHlqnFaHYxB3lTaZqoy6lO1m9YImGnp8BNDW/QL2hmOO8kZPLBOc8Kboj7RAVmhEE4cgY/5AekQRSTMTTT4I0eBR1RdxCh6Z0ZOvAtT4gugRhMDbPyCgOgTKk1B9GapuRMpbsfJhZBNQPY4tEkoXEouA8pXMDoXKpdRp40rXcoeE0sPEIaH0NHNPVWXHaelo/6vz/B2OtwUw7C6u7QAAAABJRU5ErkJggg==")},b=(t,e)=>{t&&void 0!==e&&(f.set(t,Boolean(e)),n(9,f))},y=()=>{if(!g)return;const t=g.scrollHeight-(g.scrollTop+g.offsetHeight)<24;console.log({shouldScroll:t}),t&&setTimeout((()=>{x()}),0)},x=()=>{g&&g.scroll(0,g.scrollHeight)},w=()=>{const t=window.performance.memory;if(!t)return;const{usedJSHeapSize:e,totalJSHeapSize:o}=t;n(10,v=`\n            Used: ${(e/1024/1024).toFixed(1)} MiB\n            Total: ${(o/1024/1024).toFixed(1)} MiB\n        `)};let v="";w(),setInterval(w,5e3),window.onload=()=>{(async()=>{const t=new WebSocket(`ws://${location.host}/api/ws`);t.addEventListener("message",p),t.addEventListener("close",h)})()};const $=t=>{const{detail:{offset:e}}=t;if(!m)return;const l=o.indexOf(m),s=l+e,r=!(-1===l||s<0||s>o.length-1);n(0,m=r?o[s]:null)};return t.$$set=t=>{"openLog"in t&&n(0,m=t.openLog)},t.$$.update=()=>{126&t.$$.dirty[0]&&n(11,o=(null!==i?r.get(i):s).filter((t=>((t,e)=>{const n=new Date(t).getTime();return""===t||e.time>=n})(u,t))).filter((t=>((t,e)=>null===t||void 0!==e.level&&e.level>=t)(a,t))).filter((t=>((t,e)=>""===t||-1!==JSON.stringify(e).toLowerCase().indexOf(t.toLowerCase()))(c,t))).sort(((t,e)=>t.time-e.time))),120&t.$$.dirty[0]&&(async()=>{g&&g.scroll(0,0)})()},[m,s,r,i,a,c,u,l,d,f,v,o,x,t=>null===t?"(Disable filter)":void 0===t?"Only show entries with no component field":"not-json"===t?"Only show unstructured entries":`Only show component: <span class="font-mono">"${t}"</span>`,t=>{"Escape"===t.key?n(0,m=null):"ArrowUp"===t.key||"k"===t.key?m&&$({detail:{offset:-1}}):"ArrowDown"!==t.key&&"j"!==t.key||m&&$({detail:{offset:1}})},$,function(t){m=t,n(0,m)},function(t){u=t,n(6,u)},function(){c=this.value,n(5,c)},function(){u=this.value,n(6,u)},()=>{n(6,u=new Date(Date.now()-0).toISOString())},()=>{n(6,u=new Date(Date.now()-6e4).toISOString())},()=>{n(6,u=new Date(Date.now()-3e5).toISOString())},function(){a=this.__value,n(4,a)},[[],[]],function(){i=this.__value,n(3,i)},t=>{n(0,m=t)}]}return new class extends nt{constructor(t){super(),et(this,t,jt,Mt,s,{openLog:0},null,[-1,-1])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
